<!DOCTYPE html>
<html>
<head>
  <title>Canvas</title>
</head>

<body>
    <canvas id="canvas" width="900" height="900"></canvas>

    <script>
      //create canvas start
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');

      //create pickWord f return 1random word

        var pickWord = function() {

            var words = [
                "javascript",
                "monkey",
                "amazing",
                "pancake"
            ];

            return words[ Math.floor( Math.random() * words.length ) ];
            
        };


/*
    setupAnswerArray function return answerArray
*/

        var setupAnswerArray = function(word) {
            var answerArray = [];
            for ( var i = 0; i < word.length; i++ ) {
                answerArray[i] = "_";
            }
            return answerArray;
        }

/*
    showPlayerProgress = function display answerArray with spaces
*/

        var showPlayerProgress = function( answerArray ) {
            alert(answerArray.join(" "));
        }

/*
    getGuess = function return prompt "Guess a letter, or click Cancel to stop playing."
*/

        var getGuess = function() {
            return prompt("Guess a letter, or click Cancel to stop playing.");
        }


/*
    updateGameState = function answerArray[j] = guess + return appearances
*/

        var updateGameState = function(guess, answerArray, word) {
            var appearances = 0;
            for( var j = 0; j < word.length; j++ ){
                if ( guess === word[j] ) {
                    answerArray[j] = guess;
                    appearances++;
                }
            }
            return appearances;
        }

/*
    showAnswerAndCongratulatePlayer = function alert "Good job! The answer was " + answerArray.join(""))
*/

        var showAnswerAndCongratulatePlayer = function(answerArray) {
            alert("Good job! The answer was " + answerArray.join(""));
        }

        var drawSegment = function (incorrectGuesses) {
          ctx.lineWidth = 4;

          if (incorrectGuesses === 0) {
            ctx.strokeRect(20, 20, 20, 20);
          } else if (incorrectGuesses === 1) {
            ctx.beginPath();
            ctx.moveTo(30, 40);
            ctx.lineTo(30, 80);
            ctx.stroke();
          } else if (incorrectGuesses === 2) {
            ctx.beginPath();
            ctx.moveTo(30, 80);
            ctx.lineTo(10, 110);
            ctx.stroke();
          } else if (incorrectGuesses === 3) {
            ctx.beginPath();
            ctx.moveTo(30, 80);
            ctx.lineTo(50, 110);
            ctx.stroke();
          } else if (incorrectGuesses === 4) {
            ctx.beginPath();
            ctx.moveTo(30, 60);
            ctx.lineTo(10, 50);
            ctx.stroke();
          } else if (incorrectGuesses === 5) {
            ctx.beginPath();
            ctx.moveTo(30, 60);
            ctx.lineTo(50, 50);
            ctx.stroke();
          }
        };

        var word = pickWord();
        var answerArray = setupAnswerArray(word);
        var remainingLetters = word.length;
        var incorrectGuesses = 0;


/*
    while (remainingLetters > 0) {drawSegment(incorrectGuesses);
*/

        while( remainingLetters > 0 ){

            var guess = getGuess();
            var rightGueses = updateGameState( guess, answerArray, word );

            if ( guess === null ) {
                break;
            } else if ( guess.length != 1 ) {
                alert("please insert only one simbol!");
            } else {
                showPlayerProgress(answerArray);
                if (!rightGueses) {
                    drawSegment(incorrectGuesses);
                    incorrectGuesses++;
                }
                remainingLetters = remainingLetters - rightGueses;
            }
        }

        showAnswerAndCongratulatePlayer(answerArray);

    </script>
</body>
</html>
